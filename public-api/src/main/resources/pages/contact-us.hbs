{{#partial "content" }}
  <script src="https://www.google.com/recaptcha/api.js?render={{captcha_site_key}}"></script>
  <div class="container">
    <div class="row">
      <h2>Contact Us</h2>
    </div>

    <div class="row">
      <article class="col-md-10 offset-md-1 col-sm-10 offset-sm-1">
        <p><span class="h3">We would love to hear from you!</span><br/>
          In this busy day and age, you can likely find the fastest answer to your question on our website, on one of
          the following pages.</p>
        <p>If you cannot easily find your answer, please reach out to us with the contact form below - we do our very best
          to respond to all inquiries within 2-3 days, though we appreciate your patience if it takes a little longer.
        <ul>
        <li>Renting Sunset Lodge - including <a href="/rates-and-availability#rates">rates</a> and
          <a href="/rates-and-availability#availability">availability</a></li>
          <li><a href="/weddings">Weddings</a></li>
          <li><a href="/things-to-do">Things to do during your stay</a></li>
        </ul>          <br/>
          <span class="smalltext italics">Fields marked with an asterisks (*) are required.</span></p>

        <form action="/contact-us" method="post" id="contact-form">

          <input type="hidden" name="X-XSRF-TOKEN" value="{{csrf_token}}">
          <div class="form-group col-md-6">
            <label for="name">Name*</label>
            <input type="text" class="form-control" id="name" placeholder="Name*" name="name" required autocomplete="off">
          </div>
          <div class="form-group col-md-6">
            <label for="email">Email*</label>
            <input type="email" class="form-control" id="email" placeholder="Email*" name="email" required autocomplete="off">
          </div>
          <div class="form-group col-md-6">
            <label for="phone">Phone</label>
            <input type="text" class="form-control" id="phone" placeholder="Phone" name="phone" autocomplete="off">
          </div>
          <div class="form-group col-md-6">
            <label for="reason_for_contact">Reason for Contact*</label><br/>
            <select name="reason_for_contact" id=reason_for_contact" class="form-control inline-form-control"
                     required  autocomplete="off">
              <option value="" disabled selected>Select your reason for contact*</option>
              <option>Rental Inquiry</option>
              <option>Wedding Inquiry</option>
              <option>Other Inquiry</option>
            </select>
          </div>

          <div class="form-group col-md-12">
            <label for="message">Message*</label>
            <textarea class="form-control" id="message" rows="4" placeholder="Message*" name="message"  required  autocomplete="off"></textarea>
          </div>
          <input type="hidden" name="g-recaptcha-response" id="g-recaptcha-response"/>

          <div class="form-group col-md-12">
            {{#if captcha_site_key}}
              <button  class="btn btn-primary g-recaptcha"
                       data-sitekey="{{captcha_site_key}}"
                       data-callback='onSubmit'
                       data-action='submit'>Submit</button>
            {{else}}
              <button type="submit" class="btn btn-primary" onclick="onSubmitUnchecked()">Submit Now</button>
              <script>
                function onSubmitUnchecked() {
                  document.getElementById("contact-form").submit();
                }
              </script>
            {{/if}}

          </div>
        </form>


      </article>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.getElementById('contact-form');

      // Prevent the default form submission
      form.addEventListener('submit', function (event) {
        event.preventDefault();
      });
    });


    function onSubmit() {
      grecaptcha.ready(function () {
        grecaptcha.execute('{{captcha_site_key}}', {action: 'submit'}).then(function (token) {
          document.getElementById("g-recaptcha-response").value = token;
          document.getElementById("contact-form").submit();
        });
      });
    }


  </script>
{{/partial}}

{{> layouts/base }}
